template_components:
  task_schemas:
  - objective: process_some_data
    inputs:
    - parameter: input_data
    outputs:
    - parameter: parsed_output
    actions:
    - input_file_generators:
      - input_file: my_input_file
        from_inputs:
        - input_data
        script: <<script:/home/mbexegc2/projects/lightform/matflow-learning/generate_input_file.py>>
      environments:
      - scope:
          type: any
        environment: python_env
      script_exe: python_script
      script: <<script:/home/mbexegc2/projects/lightform/matflow-learning/process_input_file.py>>
      save_files:
      - processed_file
      output_file_parsers:
        parsed_output:
          from_files:
          - my_input_file
          - processed_file
          script: <<script:/home/mbexegc2/projects/lightform/matflow-learning/parse_output.py>>
          save_files:
            - parsed_output


  command_files:
  - label: my_input_file
    name:
      name: input_file.json
  - label: processed_file
    name:
      name: processed_file.json
  - label: parsed_output
    name:
      name: parsed_output.json

tasks:
- schema: process_some_data
  inputs:
    input_data: [1, 2, 3, 4]
